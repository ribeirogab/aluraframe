{"version":3,"sources":["../../../src/domain/trades/TradeService.js"],"names":["HttpService","Trade","ApplicationException","TradeService","constructor","_http","import","week","get","then","tradesArr","map","trade","Date","data","quantidade","valor","catch","error","console","log"],"mappings":";;;;;;AAASA,iB,sBAAAA,W;;AACAC,W,YAAAA,K;;AACAC,0B,+BAAAA,oB;;;AAEF,YAAMC,YAAN,CAAkB;AACvBC,sBAAa;AACX,eAAKC,KAAL,GAAa,IAAIL,WAAJ,EAAb;AACD;;AAEDM,eAAOC,IAAP,EAAa;AACX,iBAAO,KAAKF,KAAL,CAAWG,GAAX,CAAgB,eAAcD,IAAK,EAAnC,EACJE,IADI,CACCC,aAAa;AACjB,mBAAOA,UAAUC,GAAV,CAAcC,SACnB,IAAIX,KAAJ,CACE,IAAIY,IAAJ,CAASD,MAAME,IAAf,CADF,EAEEF,MAAMG,UAFR,EAGEH,MAAMI,KAHR,CADK,CAAP;AAOD,WATI,EASFC,KATE,CASIC,SAAS;AAChBC,oBAAQC,GAAR,CAAYF,KAAZ;AACA,gBAAIhB,oBAAJ,CAA0B,gDAA+CK,SAAS,QAAT,KAAsB,CAAC,CAAvB,GAA2B,EAA3B,GAAgC,IAAGA,IAAK,EAAE,GAAnH;AACD,WAZI,CAAP;AAaD;AAnBsB","file":"TradeService.js","sourcesContent":["import { HttpService } from \"../../util/HttpService.js\";\nimport { Trade } from \"./Trade.js\";\nimport { ApplicationException } from '../../util/ApplicationException.js'\n\nexport class TradeService{\n  constructor(){\n    this._http = new HttpService()\n  }\n\n  import(week) {\n    return this._http.get(`negociacoes/${week}`)\n      .then(tradesArr => {\n        return tradesArr.map(trade => \n          new Trade(\n            new Date(trade.data),\n            trade.quantidade,\n            trade.valor\n          )\n        )\n      }).catch(error => {\n        console.log(error)\n        new ApplicationException(`N foi possivel obter as negociacoes da semana${week === 'semana' !== -1 ? '': ` ${week}`}.`)\n      })\n  }\n}\n"]}